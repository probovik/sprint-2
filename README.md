### Задание 1
https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=task1.drawio#R%3Cmxfile%3E%3Cdiagram%20name%3D%22Page-1%22%20id%3D%22-H_mtQnk-PTXWXPvYvuk%22%3E7V1dd9o6Fv01eQzL%2BvLHY5M0d2attrczvV333nnpcsAhTAlmgLRJf%2F3YIBlbkrEIto5s0oc0OGDgHOnonH22ti7I9ePzb6t4%2BfAxnSTzC%2BxNni%2FIzQXGJCA0%2By%2B%2F8rK7gnwS7q5MV7MJv7a%2F8GX2K%2BEXPX71aTZJ1pUnbtJ0vpktqxfH6WKRjDeVa%2FFqlf6sPu0%2BnVffdRlPE%2BXCl3E8V6%2F%2BOZtsHvhV5Ef7P%2FwjmU0f%2BFuHONj94TEWT%2BbfZP0QT9KfpUvk%2FQW5XqXpZvfb4%2FN1Ms%2BtJ%2Byye91tzV%2BLD7ZKFhuTFyy%2FzvCnX3%2BMZ%2Bv10%2B%2Frfz3dXoX%2FuUT80%2F6I50%2F8G%2FNPu3kRJlilT4tJkt8FXZCrnw%2BzTfJlGY%2Fzv%2F7MvJ5de9g8zvmf%2Be2S1SZ5rv2gqPj62cBJ0sdks3rJnsJfEITcYnzM%2BIw%2F%2FllygLDqQ8n2Pr8Wc59Pi1vvzZL9wi1zhJV894zke1UjUcIUI%2FmhxkiEstOt9OsdJh%2FTP76u%2F7il3yK0CX%2FMvl5ixUof08U0vblSjJVNhWX%2B6%2FhlPsustiLNJrvb2ffDXXEhHn%2Bfbq3%2B%2B9Mmu03Cr693IQSxws6KUTWmr7Uz86t2xqE6GH2NmcMWxqLWykSx8vLlMbfzZbyctTEsTzIXkc0VWZy7WntRxSbJJIvw%2FGG62jyk03QRz9%2Fvr17treZlj%2FbP%2BZCmS26r%2FyabzQtfruKnTVq1ZPI82%2FxV%2Bv3v%2FFYjxh%2FdPPM7bx%2B8iAeL7Ov%2BVX5QelX%2BcP%2By7aPK6z4nq1lmr2TFL9a6cp0%2BrcZJ8%2FjaxKtpsmme7bkxDw6MVTKPN7Mf1eW09QhN1Ig8MDdrzd3oYr2xVBfrnxeAurTrQHfS%2BisHOhYEI3UFtpumkAhyEuwH%2Ft%2FlcX%2FUJMA2Z0FgOA1AZwH1IH16TGCDcA0KQX2DYOdbUJ5wyHDC8VeJOYccnHCYnOhV%2FtLP6Sz7jEXIDkk1ZAdECsS7b8BfVa6kpRshFEl3YmFu1srNdt9Sudl2oBXf6YRY72DhXhTqoibV1EpIV5Ni1kJNWh%2B7K1Yap4v72fTL6ge4uSKKRoFftRiFhjoQ6U0OkT3Qlz2tRKuwD9lBpAzvzBW5OaDHth9I6TEBH9iqrRQr5XjSsvbbc4g5vhNP946e8cSoaNDhSYWx2jfMUeim19LwOeAj1XyAxgkV46wf4tUEXaq5X%2FZ1N1VLxPPZdJH9Ps6%2Bdh6jrnKjzMbx%2FB3%2Fw%2BNsMtlGUJ1Jq0bv1Kq6RbmzmaiatMCJ%2FXluwcksW5z96Wb7rXeX7lbyleytK8%2BTnGEXYm7TLaILwkZ5hoACnwYeC0NSiRyYjQJEccjETyWKMH%2B0eyEmbHsjX%2BPicMQqt%2BnI4yKiQMZehJAUfHXZqd3oglWMCyr07t7ZpdCLaV3oVY3kaug1sKrV0IvZW%2Bw95Jchxt5A8Y%2BrBd0eo4KCqLBpawS2MwLa05RwR2OfHoc7TuL1Q1GvioCSxYHvLWOSyNDhNcmaJYeLPrzzdb4PDmARXTm7W7YeUMVY%2Fv%2Becu7V1WPm%2B9nicpPPg3fZM7zl826t438v1rlsYL5DF5npQpb%2FfrX7eb39mX0dD5XWx%2Fy9apZHNVnR%2BSnN%2FHI%2F3xLGHrJUJVm8Li05rotJdVQrXYbSXdpH1PJw2%2FVdf6sZ8g7kfsfNERppqFo6plZXJqYG5Zh10p9kJOQF0O10elR1ZsdMTOo8hZp4GzGNlYqZ3b6ZBs%2BwajHfEOTLxnyDgiYcVK0TnSLfMDlYeBicfUN9yHnQN%2FYNjQwnAvP0Q8HSRACtnoHoN%2Ba%2BYSf6ZvvSd6tV%2FFJ6wjLnTKxLd5Z5HFie%2FT6WHL27ZauECxq6M72NuT5QOIrxCNrxH1qn%2BgRSoxVhKt3DnOvjMelWkXSrjpk%2BwpYupaFFmc%2BNEnma1dcu00ekBG5SfYhC9Ql96ISFAdMXnaH6ML8XuQhTy3ZXUEAJRooY%2BNg2qN07Z%2FsoeYq2StF2ADEpmEHt20ZtrB4YQZ12nVkN05ff5jKrSaKKDT1jA3pRdwZUq%2BM9KcjbNVTvFJM6gFMe5YPy3KUaCyOkkp7b4%2B2qQ9Lm2mSUa18i9vq16WDUam%2FF8kE3SATAZGJEzaqmSzoidb4sqqmifGqplrI0Ak6u0U8LlfXduBKDZJmZPM7fbSD0koZlDeXVAAuYJ%2F7hap4QjUKsrHJRmF3FNCr%2BqRE5iEaoK0f6GiJskuVIk5jffFAeyvOMsOqU0mpXZvpEI9FNq%2BS1aIQ7WxpVMsCgPeG56gcVcBiwH2T2rEN%2BAGZDhazFJEOCbPeJxdHaDy7kHgGoJoTfH3wLHrEPrGFgNTg7kQJ9FEjYUA1i3xbM7sNWnEMiVfqmLNodogkWH1SM0FE8FXngzQJfBxraoVXi%2FtEqJX5KqOOy2aVVBipmqViw8y1YWE4iPY8ohrGOhwfubIANasAat%2FHwQFVZ2O%2FU6h0eXucDWDwcln0ChIcLczaLNXiGGUcIWpEEwAJd%2FcPD2x8BAejWrVAFjc4AD29Y1vqIh4fDQmEbPOQyHi7Gxrl4wlUcNlTL6QH7wV08PHzDw53NPkHxrtAAArCNdIXiQxXnQ4AjXWEP1P4R1empeURnp862kYa92RvjwMa%2F0FRPMIKNESrNw6mNfzIwziL4jX8hcFXfr41%2FETadCKeqAJ%2BmrHmOutvmvjmVVrp96bEb%2FyIiJwt8S0SnG%2F%2FEdi8XprfzG%2F%2BMRxBCp65z%2BjESUmmMhES6h%2FHOPyzv3whD6VYd7%2FwTxnQpEw2YZF%2BdmonlrX%2BRijy4s%2FUPedSX9%2F4hCr5BKgJGCZzZ%2FIc8Ywkw2IRErd4dYasEgRQSGAUf3QY1fOdsB09OV%2FTFinW%2BQ3TU0RGd8h2imu3%2FbvMdokOi4L3jO9T5AJTvEMHW1GYAdut8BxG2Wly0kAeKJyEPtI7uI%2BWhg0Fwcrl%2B4hhQe%2BVnQHpoWNv6SHpA4kMOpMfb4CKXWQ%2FIG1a7vdEVrrbbs%2Fr%2BnBzhLu%2BhEOp6Iz64l4HwcAWXgvRQnBMMxOfYvA1IrAZ6p0iGTmSoqOPdgMgDPjZjQNsBkWfMfQDVKik%2BZw8gVh%2B8gYA8nS6lnR2BpHc7AosuWdEB0vHc7G4JLFK54Ry1oLYikMqTs3rWAkI68EOya%2BetCIKVVoQDGy%2BLPMOBTgT3U99aEQhpYID%2B7r2s9QJoMwIh2GY5UDeiCF0GBYOpeghCoNvvEALGCPrXjuhmFMCiAdojrwffkGha4nrZkUAa7YEeo69NPnK6JaE7LH3QvnAWCkdqbT5kTzjclMDA%2FIfBNCW6yUNgiRFYxQb%2BnUxma2XIZIlIbq%2Br9fdkM37glozXy2Scf7372XM%2BWMoDgG%2BlyF7Mri7Yja7Au08XGz6AsjqcXPH3uJk9TrNvM5%2Fd5d9pPY6T7P%2FrePyQfNt%2Btm%2BfV%2BnkabwZrX9MWwJt%2FIIWWaQangrbFLl7ee5G%2FsjvzDsqGOH%2Bxg8akfIUvfRGnhd0NE9b3%2FuI6kaKrfmogik9B0R9CRAtziQBw0PxUaeP2NqFrhzPhCkG77CIT%2BCSqeQBlcdq1U6Wd6IjDNre79lWdIQD03hMYOMxtLQ3fsUSjPrgV9hjYZBOcTPv9nqlbi%2FZ%2Fgy313e94PJzvO3vfuk5t9qh8iG%2BS%2BavXaFXSVa%2B8rabp02qawOqSc%2Fu0Jivjb%2FZiPKEUPtL5S1fy7kRT0nv79dJN2QarIJ0LqlKUEJHAkcUyxph8MISCDt05qz7yhJI7PQ2WNcwaPwTnWT30xUg95zaJNy%2B9Hh5CU0VwCkKnSpMIAIMEvZKYuKIccROTV%2F1AyWk6kBh8qnQ5jITSNEHwL58XHXHShOFTV0qNQOmmhnreI921Sb44uGu3AQZiZOCC6sh8FSGAB8F6Y7ehKAvOZ%2BlEBWpc4YOrUYGojuC3vIYd%2BGMDU%2BTxeiLGft8T%2BLOSRvcWb3je5Laszb6qD1R6wVYvic5y9M2ivjV5hpGYRFkAqzN2UO%2BZxej4OSC%2FrRRID7omfE9G5a4XvI9qVqo9prZ1uAjp%2Fme4g3PxhfOsgzpsMRAGiOXu3xP%2Bnb6hsvZKCyiInQxewCCOYDzM3vtvBponiINliLvx%2B5aiYICS5cMSYmCmjOfamgYtiKFCvM4jL1S%2BP4CVfce2VKjoDVqFEqBKS7dreQrDbWmQ0IWJKymXvtcDFDIgqrbnXrO29bNMhxAc7eZDkeRTGtBy0LX4HBBzoKp2MSBcN1te2Pnqt61N0TneiByFnVegG1vMNhevFl92n57Q0Qvg8qDm96AYVSjlmkpTWTAaEMP2xudjAJYWIHpeAfDb280LHG9bG8wlSHRayC3wUdOtzfYwKRFGn3hLKjOBiYs0hS53G1vMGA%2BxXDaG53kIbA0C1%2BFB85RziKbl1jm8%2FsakMy2noWPFEe4v8vERT2LYzba1kR6SzMyBCUy9m1fvI%2BN3QqrXyg%2BaCnQTrftiNvtz%2Ffbn1fblsWuTRGUruPSBmpcamhc8c3U3SOWh%2BPnZdFh3aO74O2lEPQ4gDYmktWduD4xnUkBbID0VeKUUBzYTZLsZ8SnCr5NFtPZ4hl%2BhiAHZ0gAzG0JXpFetI04ms8ParzSACt1aM6KfVPqKI%2F42lmahdzAr%2FbYTlTqKKZ%2F9RUdCncEvckfgWYn7OoVAKMxr6KGVdOSwGpaYuxYaOErDdEiD2Y3ir%2FXP2eP83ixRVOyryUgkLZoKHKeoZEPxJGOJBB2lmiImFq2jcYwDWmYgjYZWeu4HFbIC1WNSAMd08LTMi26M6LaMnz3%2BZ9f%2FvnlL8WQthgrDVaMqlb0dVa0nPL6arPuOl2sn%2Bbfvh8SggA1o1w6IKQzpI5WVnQlOgh3KnEqG43Zhd%2FiTZL992estnlO4fw0p4v5qieaPdvQukq%2FJ9fpPM3hxEW6jbf3s%2FlcutSh36pu045%2BXQzpjgzoq025698%2Fffn6wU4obmAJyjKlflAg6yWT6fht3a1cAVZM4z4Af1SL7KLNZM1YxR26RtZhSDvOeAHJhiVUaQfD5pTz0kVWKplxzUv0w6eHhTM%2BOHe9EcG01cL5RfuCDuvm0EAJptvMnXoaTUtd9q5dNKLuVg1VVMiuFOghh9Vak0h1kH79tdyS0InoehdRuP15U4XjCjC7fP1qG4J2MaoIPmGpGbQLO34J67s5iOMNLSdrGBW6XU%2FMag4Wamrh7qfQ4cgTqpsmSXH8Ldx0ESHNJVP5XjVLJVjHE7Etpi%2BULN0HfV0gDUTGmGIEm6ZGwNVHz8T0jf2KgUUFopoW9luLToz5A5VGD8X0I%2BgMumGDsK8UHoRiB8T0I2CCQs%2FE9CPjQ7t2m2Tg4l9vzv4Bcc9Wn8C%2BmH7oa6oAvuGqWzH9CJSq1zcxffNxdPJZmfqBolE6IL4v3cZYTB9RRUyfBPJ2va7F9COdFgl0qakecUeI7og7y2L6kYpguCOmHwWKlj7BIXQmU0C2LkS4hkymWy197BlvxIBNUrCndrhd0XPyNIFBs9vQ9hjHzTG0a6mZSJfDaEsZ61oz2NNU%2FfVDqVPKCfdVrRkd1ZrhifFQpPRrvQCqNYM92KrbKBdvX2umCF8tLmHYA8WPsQesQ9k%2FrZluRgGoMGXxQc9La6Zpieuj1gyPJ4NR1WjykctaM1mec2a%2BcFXhpCDanokn3NWawSLyvWnNOJmHwAIqSC13XcXA4FF%2Bjt1bwclqgHminplLFJppx1L62aeAHTQDktLHyJgf44HupSw%2BaD%2BgVwrfXkA68rodKX3%2FrKT0pdSLFL03OCl9jFRWed%2Bl9HUNDqpa2qqUPkY6HEUybedS%2Blg9YZ1Q7ICUfpGwuNDeQDWqio63N5AGUuivlH6tF2DbGxi2FW9Wn7bf3hDRqzlNFPO2OU3EoJp6%2B8z3rb0BOQoQLKwgPuiZtTcalrhetjfwsM5EbfKR0%2B0NrKFaDNoXzoLqWC3uh%2BwJh9sbGJhPMZz2RifZKCzNAqvwwBlK6fuhIqVPAqIBySxL6WfVPOzcHY6Uvvk2Wwx6uAUWGI%2F728wc2BVfAKfNbj357O7T3EpUuseQpPQl1URCdVt%2B7LaXSO%2FlJWzuw%2BXzw2gmwQZI4FNFX7cmllZArkdMSINzu14Sj%2FA4O7WzridrXDIpaoSyEG3HOygLE%2FTsWAYXo61LlJfXqL7YpElRU8lJYM2XbGTp58eb5osY8bWzdADHMmACuqkKSPLiiNkJXCoSYGSvZ8cymDsWWEKNZ9iAxzIozFm4cxiyrFA1Bug5DLUFEL%2BPg%2BcwYKKSdIDPYWiyonvnMBSOdekchiYzungOA6aqSsW5ncPQ6DfXzmHAonHp5jkMssJtQMHPYcC0j0gV1DkMRXR1viimuqL47RyGpnlwoFLu%2BzkMmIKfw0CIKoeqzd7tnsNQ1FxuncPAHVZvTffOYcjqCG3YeTuHob2crGFUgJ%2FDUITJcg5284m7NaKlJvKt8HUZelV7x4y3OPgdmFiPiuHxvjRgVMqxYAVZIALFv55WSW6%2FeLn8tk5WP2bjZJ0Tg24%2B5YSgbCAk6xYZQfKWuUANpUjgb3aySTHSXMgmDcG%2BLfVH0tanETQX6IjGJ4XdJcDUOrnV6e6VtsUyZU14V8MuOZtJH%2BlOSWlp0mcPV2m%2BaXmfh2b5zcPHdJIn9%2B%2F%2FDw%3D%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E

### Задание 2 (уважаемый проверяющий, у меня мак на М3у меня мак на М3 я пытался запустить но сайт но открывается, остальное проверил работает суть понял)

Запускаем mongodb и приложение

```shell
docker compose up -d
```

```инициализируйте сервер конфигурации выполнив поочередно команды
docker exec -it configSrv mongosh --port 27017

rs.initiate(
  {
    _id : "config_server",
       configsvr: true,
    members: [
      { _id : 0, host : "configSrv:27017" }
    ]
  }
);

exit();
```

```инициализируйте шарды выполнив поочередно команды
docker exec -it shard1-1 mongosh --port 27018

rs.initiate(
    {
      _id : "shard1-1",
      members: [
        { _id : 0, host : "shard1-1:27018" },
      ]
    }
);

exit();

docker exec -it shard1-2 mongosh --port 27019

rs.initiate(
    {
      _id : "shard1-2",
      members: [
        { _id : 1, host : "shard1-2:27019" }
      ]
    }
  );

exit();
```
 
```инициализируйте роутер и наполните его данными выполнив поочередно команды должно получиться 1000 записей
docker exec -it mongos_router mongosh --port 27020

sh.addShard( "shard1-1/shard1-1:27018");
sh.addShard( "shard1-2/shard1-2:27019");

sh.enableSharding("somedb");
sh.shardCollection("somedb.helloDoc", { "name" : "hashed" } )

use somedb

var docs = [];
for(var i = 0; i < 1000; i++) {
    docs.push({age:i, name:"ly"+i});
}
db.helloDoc.insertMany(docs);

db.helloDoc.countDocuments() 
exit();
```

``` сделайте проверку на первом шарде получится 492 документа
 docker exec -it shard1-1 mongosh --port 27018
 use somedb;
 db.helloDoc.countDocuments();
 exit();
``` 

``` сделайте проверку на втором шарде получится 508 документов
docker exec -it shard1-2 mongosh --port 27019
use somedb;
db.helloDoc.countDocuments();
exit();
``` 

### Задание 3

``` подключаемся к первому шарду и инициализируем реплики
 docker exec -it shard1-1 mongosh --port 27018

rs.initiate({_id: "shard1-1", members: [ {_id: 0, host: "shard1-1:27018"}, {_id: 1, host: "shard1-1replica1:27028"},{_id: 2, host: "shard1-1replica2:27038"}, {_id: 3, host: "shard1-1replica3:27048"}]})
exit();

docker exec -it shard1-2 mongosh --port 27019

rs.initiate({_id: "shard1-2replica", members: [ {_id: 0, host: "shard1-2:27019"}, {_id: 1, host: "shard1-2secondary1:27029"}, {_id: 2, host: "shard1-2secondary2:27039"}, {_id: 3, host: "shard1-2secondary3:27049"}]})

exit();

``` 

### Заданиие 4

``` проверить наличие кластера 
docker exec -it redis_1

echo "yes" | redis-cli --cluster create   173.17.0.2:6379   173.17.0.3:6379   173.17.0.4:6379   173.17.0.5:6379   173.17.0.6:6379   173.17.0.7:6379   --cluster-replicas 1

```

### Заданиие 5
ссылка по первому заданию

### Заданиие 6
ссылка по первому заданию